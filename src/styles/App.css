/* ===== Base ===== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-base, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif);
  font-size: var(--font-size-body, 16px);
  line-height: var(--line-height-body, 1.55);
}
.container { max-width: 980px; margin: 0 auto; padding: var(--space-4, 1rem); }

/* Tipografía */
h1, h2, h3 { line-height: 1.25; margin: 0 0 var(--space-4, 1rem); }
h1 { font-size: var(--font-size-h1, 1.75rem); line-height: var(--line-height-h1, 1.2); }
h2 { font-size: var(--font-size-h2, 1.375rem); line-height: var(--line-height-h2, 1.25); }
h3 { font-size: var(--font-size-h3, 1.125rem); line-height: var(--line-height-h3, 1.3); }
small { font-size: var(--font-size-small, .9rem); line-height: var(--line-height-small, 1.4); }

/* Focus visible */
:where(button, [role="button"], a, input:not(.combo-input), select, textarea):focus-visible {
  outline: var(--focus-ring, 2px solid var(--text));
  outline-offset: var(--focus-offset, 2px);
}

/* App header */
.App { text-align: left; }
.app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4, 1rem);
  margin-bottom: var(--space-4, 1rem);
}
.theme-switcher { display: inline-flex; gap: var(--space-2, .5rem); }
.app-logo { height: 40px; }
@keyframes gentle-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.spin { animation: gentle-spin infinite 20s linear; }

/* Botón */
.btn{
  display: inline-flex; align-items: center; justify-content: center;
  gap: .5rem;
  padding: .625rem .75rem;
  border: 1px solid transparent;
  border-radius: var(--radius-sm, 6px);
  background: var(--accent, var(--brand-600, #ff7a00));
  color: var(--on-accent, #fff);
  cursor: pointer;
  transition: background var(--motion-1, .15s ease), transform var(--motion-1, .15s ease);
  text-decoration: none;
}
.btn:hover { background: color-mix(in srgb, var(--accent, var(--brand-600, #ff7a00)) 88%, black); }
.btn:active { background: color-mix(in srgb, var(--accent, var(--brand-600, #ff7a00)) 80%, black); transform: translateY(1px); }
.btn[disabled], .btn[aria-disabled="true"] { opacity:.6; cursor:not-allowed; }

/* Fuerza naranja para el conmutador de tema */
.theme-switcher .btn{
  background: var(--accent, var(--brand-600, #ff7a00)) !important;
  color: var(--on-accent, #fff) !important;
  border-color: var(--accent, var(--brand-600, #ff7a00)) !important;
}
.theme-switcher .btn:hover { background: color-mix(in srgb, var(--accent, var(--brand-600, #ff7a00)) 88%, black) !important; }
.theme-switcher .btn:active { background: color-mix(in srgb, var(--accent, var(--brand-600, #ff7a00)) 80%, black) !important; }

/* Card */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-1);
  padding: var(--space-4, 1rem);
}

/* Tabla */
.table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface, #fff);
  border: 1px solid var(--border, #e5e7eb);
  border-radius: var(--radius-sm, 6px);
  overflow: hidden;
}
.table th, .table td{ padding: .625rem .75rem; border-bottom: 1px solid var(--border, #e5e7eb); text-align:left; }
.table thead th{ background: color-mix(in srgb, var(--surface, #fff) 70%, var(--bg, #fff)); font-weight: 600; }
.table__caption { caption-side: top; text-align: left; padding: .5rem 0; opacity:.85; }
.table__sort { background: transparent; border: 0; cursor: pointer; color: inherit; font: inherit; }
.table__sorticon { opacity: .6; }

/* Field / forms */
.field { margin-bottom: var(--space-4, 1rem); }
.field > label { display:block; font-weight:600; margin-bottom:.375rem; }
.help { font-size:.95rem; opacity:.85; margin-top:.25rem; }
.error { color: var(--error, var(--error-600, #b91c1c)); margin-top:.25rem; }

/* Inputs base */
input[type="text"]:not(.combo-input), 
input[type="email"], 
input[type="search"]:not(.combo-input),
.time-input__text, 
.date-input__text, 
select, 
textarea {
  width: 100%;
  padding: .625rem .75rem;
  font: inherit;
  color: inherit;
  background: transparent;
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 8px;
}

/* Input “pastilla” (si lo usas) */
.ui-input {
  width: 100%;
  padding: 1rem 1.25rem;
  border: 0;
  background: var(--surface);
  border-radius: 9999px;
  box-shadow: none;
}
.ui-input--pill { border-radius: 9999px; }
.ui-input::placeholder {
  color: var(--placeholder);
}
.ui-input:focus-visible {
  outline: var(--focus-ring, 2px solid var(--text));
}

/* ===========================
   COMBOBOX (versión única)
   =========================== */
/* Combobox base */
.combo {
  position: relative;
  margin-bottom: 1rem; /* Mantener el espacio entre combos */
}

/* Estado abierto - eliminar la transformación */
.combo[data-open="1"] {
  z-index: 60; /* Mantener el z-index alto cuando está abierto */
}

/* Input wrapper */
.combo-wrapper {
  position: relative;
  z-index: 52;
  width: 100%;
}

/* Input styles */
.combo .combo-input {
  position: relative;
  width: 100%;
  padding: 0.625rem 0.75rem;
  font: inherit;
  background-color: var(--surface) !important;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
}

/* Lista de opciones */
.combo-list {
  position: absolute;
  z-index: 50;
  width: 100%;
  top: 10px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-1);
  list-style: none;  /* Asegurar que no hay bullets */
  padding: 45px 0 0 0;  /* Resetear padding lateral y mantener el superior */
  margin: 0;  /* Resetear márgenes */
  max-height: 280px;
  overflow: auto;
  animation: slideDown 0.2s ease-out;
  transform-origin: top;
}

/* Modificar la animación */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: scaleY(0);
  }
  to {
    opacity: 1;
    transform: scaleY(1);
  }
}

/* Ajustar el scrollbar para que no tape el contenido */
.combo-list::-webkit-scrollbar {
  width: 8px;
  margin-top: 40px; /* Alinear con el contenido */
}

.combo-list::-webkit-scrollbar-track {
  background: var(--bg, #f3f4f6);
  border-radius: 4px;
}

.combo-list::-webkit-scrollbar-thumb {
  background-color: var(--border, #e5e7eb);
  border-radius: 4px;
}

/* Opción */
.combo-list .combo-option {
  list-style-type: none;  /* Redundante pero asegura compatibilidad */
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  color: var(--text, #111827);
}

/* Hover / activa: texto naranja, fondo transparente para no “ensuciar” */
.combo-list .combo-option:hover,
.combo-list .combo-option[data-active="true"] {
  color: var(--accent, #ff7a00) !important;
  background-color: transparent;
}

/* Focus del input del combo sin outline doble */
.combo .combo-input:focus {
  outline: none;
  border-color: var(--border, #e5e7eb);
}

/* Combobox arrow styles */
.combo-arrow {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.2em;
  font-weight: bold;
  color: var(--border, #e5e7eb);  /* Color gris de la flecha */
  pointer-events: none;
  transition: transform 0.2s ease;
}

.combo[data-open="1"] .combo-arrow {
  transform: translateY(-50%) rotate(180deg);
  color: var(--on-accent);
}

/* Datepicker */
.datepicker{
  margin-top:.5rem;
  background: var(--surface, #fff);
  border:1px solid var(--border, #e5e7eb);
  border-radius: var(--radius-md, 10px);
  padding: var(--space-3, .75rem);
  box-shadow: var(--shadow-1, 0 2px 10px rgba(0,0,0,.08));
}
.datepicker__header{
  display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.5rem;
}
.datepicker__title{ font-weight:600; text-transform:capitalize; }
.datepicker__grid{ display:block; }
.datepicker__row{ display:grid; grid-template-columns: repeat(7, 1fr); gap:.25rem; margin-bottom:.25rem; }
.datepicker__cell{
  padding:.4rem .25rem; text-align:center; border:1px solid transparent; border-radius: var(--radius-sm, 6px); background:transparent;
}
.datepicker__cell[data-out="1"]{ opacity:.45; }
.datepicker__cell[data-today="1"]{ border-color: var(--accent, var(--brand-600, #ff7a00)); }
.datepicker__cell[data-selected="1"]{ background: color-mix(in srgb, var(--surface, #fff) 60%, var(--bg, #fff)); border-color: var(--accent, var(--brand-600, #ff7a00)); }
.datepicker__cell[data-active="1"]{ outline: var(--focus-ring, 2px solid var(--text)); }
.datepicker__cell--head{ font-weight:600; text-transform:lowercase; opacity:.8; }
.datepicker__help{ margin-top:.25rem; font-size:.9rem; opacity:.8; }

/* Dialog */
.dialog-backdrop{
  position:fixed; inset:0; background: rgba(0,0,0,.45);
  display:flex; align-items:center; justify-content:center;
  z-index: 1000;
}
.dialog{
  width:min(660px, calc(100% - 2*var(--space-4, 1rem)));
  background: var(--surface, #fff);
  color: var(--text, #111827);
  border:1px solid var(--border, #e5e7eb);
  border-radius: var(--radius-md, 10px);
  box-shadow: var(--shadow-1, 0 2px 10px rgba(0,0,0,.08));
  padding: var(--space-4, 1rem);
}
.dialog__header{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom: var(--space-3, .75rem); }
.dialog__title{ margin:0; font-size: var(--font-size-h2, 1.375rem); line-height: var(--line-height-h2, 1.25); }
.dialog__close{ background: transparent; border:1px solid var(--border, #e5e7eb); }

/* ErrorSummary */
.error-summary{
  border: 2px solid var(--error, var(--error-600, #b91c1c));
  background: color-mix(in srgb, var(--surface, #fff) 85%, var(--error, #b91c1c) 15%);
  padding: var(--space-4, 1rem);
  border-radius: var(--radius-md, 10px);
  margin-bottom: var(--space-4, 1rem);
}

/* Alerts */
.alert{
  display:flex; gap:.75rem; align-items:flex-start;
  border:1px solid var(--border, #e5e7eb);
  border-left:4px solid var(--border, #e5e7eb);
  border-radius: var(--radius-md, 10px);
  padding: var(--space-3, .75rem);
  background: var(--surface, #fff);
}
.alert__icon{ font-size:1.25rem; line-height:1; }
.alert__title{ margin:.125rem 0 .25rem; }
.alert[data-tone="info"]    { border-left-color: var(--accent, var(--brand-600, #ff7a00)); }
.alert[data-tone="success"] { border-left-color: var(--success); }
.alert[data-tone="error"]   { border-left-color: var(--error); }
.alert[data-tone="warning"] { border-left-color: var(--warning); }

/* Tags */
.tag{
  display:inline-flex; align-items:center; gap:.25rem;
  padding:.125rem .5rem;
  border-radius:999px;
  border:1px solid transparent;
  font-size:.95rem;
  background: color-mix(in srgb, var(--surface, #fff) 60%, var(--bg, #fff));
}
.tag[data-tone="success"] { 
  background: var(--success); 
  color: var(--on-success);
  border-color: var(--success);
}
.tag[data-tone="error"] { 
  background: var(--error);
  color: var(--on-error);
  border-color: var(--error);
}
.tag[data-tone="warning"] { 
  background: var(--warning);
  color: var(--on-warning);
  border-color: var(--warning);
}

/* Skeleton */
.skeleton-row{
  height: 1.125rem;
  border-radius: 6px;
  background: linear-gradient(90deg, color-mix(in srgb, var(--surface, #fff) 60%, var(--bg, #fff)), var(--surface, #fff), color-mix(in srgb, var(--surface, #fff) 60%, var(--bg, #fff)));
  background-size: 200% 100%;
  animation: load-skel 1.2s ease-in-out infinite;
  margin-bottom:.5rem;
}
@keyframes load-skel { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* Seat map */
.seatmap__legend{ display:flex; align-items:center; gap:.5rem; margin: .5rem 0; }
.seatmap__grid{ display:block; border:1px dashed var(--border, #e5e7eb); padding: var(--space-3, .75rem); border-radius: var(--radius-md, 10px); }
.seatmap__row{ margin-bottom: .25rem; }
.seatmap__aisle{ display:inline-block; width: var(--seat-aisle, 24px); }

.seat{
  display:inline-flex; align-items:center; justify-content:center;
  width: var(--seat-size, 40px); height: var(--seat-size, 40px);
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 8px;
  background: var(--bg);
  cursor: pointer;
  user-select:none;
}
.seat[data-status="occupied"],
.seat[aria-disabled="true"]{
  opacity:.45; cursor:not-allowed; text-decoration: line-through;
}
.seat[data-status="reserved"]{
  border-style: dashed; opacity:.75;
}
.seat[data-status="selected"]{
  border-color: var(--accent, var(--brand-600, #ff7a00));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent, var(--brand-600, #ff7a00)) 35%, transparent);
}
.seat:focus-visible,
.seat[data-active="1"]{
  outline: var(--focus-ring, 2px solid var(--text));
}

/* Notices */
.notices__controls{ display:flex; align-items:flex-end; gap:.75rem; flex-wrap:wrap; margin-top: var(--space-4, 1rem); }
.notices__filters label{ display:flex; flex-direction:column; gap:.25rem; font-size:.95rem; }

/* Visually hidden */
.visually-hidden{
  position:absolute; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}
