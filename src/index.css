@import "./styles/tokens.css";
@import "./styles/App.css";

/* Base */
html,body,#root{height:100%}
body{
  margin:0;
  font-family:var(--font-base);
  background:var(--color-bg);
  color:var(--color-fg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Accesibilidad: foco visible */
:where(a,button,input,select,textarea,summary):focus-visible{
  outline:var(--focus-ring);
  outline-offset:var(--focus-offset);
}

/* Utilidades */
.container{
  margin-inline:auto;
  padding:var(--space-5);
  max-width:720px;
}

/* Botón */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:var(--space-2);
  padding:var(--space-3) var(--space-4);
  border-radius:var(--radius-sm);
  border:none;
  background:var(--brand-600);
  color:#fff;
  font-size:var(--fs-2);
  cursor:pointer
}
.btn:hover{ background:var(--brand-700) }
.btn:disabled{ opacity:.6; cursor:not-allowed }

/* Tarjeta */
.card{
  border:1px solid var(--brand-600);
  border-radius:var(--radius-md);
  padding:var(--space-4);
  margin:var(--space-3) 0;
  box-shadow:var(--shadow-1);
}

/* Campos de formulario */
.field{ margin:1rem 0 }
.field label{ display:block; font-weight:600; margin-bottom:.25rem }
.help{ margin-top:.25rem; font-size:.9rem; opacity:.9 }
.error{ color:var(--error-600); margin-top:.25rem; font-weight:600 }

/* ==== Combobox ==== */
.combo{ position:relative }
.combo-input{
  width:100%;
  padding:0.625rem 0.75rem;
  font-size:1rem;
  border:1px solid #9ca3af;
  border-radius:8px;
  background:transparent;
  color:inherit;
}
.combo-list{
  position:absolute;
  z-index:10;
  margin-top:4px;
  width:100%;
  max-height:240px;
  overflow:auto;
  background:var(--color-bg);
  color:var(--color-fg);
  border:1px solid #9ca3af;
  border-radius:8px;
  box-shadow:var(--shadow-1);
  list-style:none;
  padding:0;
}
.combo-option{
  padding:0.5rem 0.75rem;
  cursor:pointer;
}
.combo-option[data-active="true"]{
  background:var(--brand-600);
  color:#fff;
}
:root[data-theme="hc"] .combo-option[data-active="true"]{
  outline:2px solid #ff0;
  background:transparent;
  color:inherit;
}
.combo-empty{
  padding:0.5rem 0.75rem;
  opacity:.8;
}

/* ==== Date input & Time input ==== */
.date-input__row{ display:flex; gap:.5rem; align-items:center; }
.date-input__text, .time-input__text{
  width:100%;
  padding:0.625rem 0.75rem;
  font-size:1rem;
  border:1px solid #9ca3af;
  border-radius:8px;
  background:transparent;
  color:inherit;
}
.date-input__button{ padding:.5rem .6rem; }

/* ==== Datepicker ==== */
.datepicker{
  position:absolute; z-index:10; margin-top:.4rem; padding:.5rem;
  width: 100%; max-width: 320px; background:var(--color-bg); color:var(--color-fg);
  border:1px solid #9ca3af; border-radius:10px; box-shadow:var(--shadow-1);
}
.datepicker__header{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.25rem; }
.datepicker__title{ font-weight:600; text-transform:capitalize; }
.datepicker__grid{ outline:none; }
.datepicker__row{ display:grid; grid-template-columns: repeat(7, 1fr); }
.datepicker__cell{
  margin:2px; padding:.4rem .3rem; border-radius:8px; border:1px solid transparent;
  background:transparent; color:inherit; cursor:pointer;
}
.datepicker__cell--head{ text-align:center; font-weight:600; padding:.25rem 0; }
.datepicker__cell[data-out="1"]{ opacity:.55 }
.datepicker__cell[data-today="1"]{ border-color:#9ca3af }
.datepicker__cell[data-selected="1"]{ background:var(--brand-600); color:#fff; }
.datepicker__cell[data-active="1"]{ outline:var(--focus-ring); outline-offset:var(--focus-offset); }
:root[data-theme="hc"] .datepicker__cell[data-selected="1"]{ outline:2px solid #ff0; background:transparent; color:inherit; }
.datepicker__help{ margin-top:.4rem; font-size:.9rem; opacity:.85; }

/* ==== Dialog / Modal ==== */
.dialog-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4); z-index:1000;
  display:flex; align-items:center; justify-content:center; padding:1rem;
}
:root[data-theme="hc"] .dialog-backdrop{ background:rgba(0,0,0,.6); }
.dialog{
  width:100%; max-width:640px; background:var(--color-bg); color:var(--color-fg);
  border:1px solid #9ca3af; border-radius:12px; box-shadow:var(--shadow-1); padding:1rem; outline: none;
}
.dialog__header{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.5rem; }
.dialog__title{ margin:0; font-size:var(--fs-3); }
.dialog__close{ line-height:1; }
.dialog__body{ line-height:1.6; }

/* ==== Table (Schedule) ==== */
.table{ width:100%; border-collapse: collapse; margin: 1rem 0; font-size: var(--fs-1); }
.table caption.table__caption{ text-align:left; margin-bottom:.5rem; font-weight:600; }
.table th, .table td{ border-top: 1px solid #9ca3af; padding: .6rem .5rem; text-align: left; vertical-align: middle; }
.table thead th{ border-bottom: 2px solid #9ca3af; }
.table__sort{ background:none; border:none; font: inherit; cursor:pointer; display:inline-flex; align-items:center; }
.table__sorticon{ margin-left:.25rem; }

/* ==== Controles y estados de Schedule ==== */
.schedule__controls{
  display:flex; gap:1rem; align-items:center; flex-wrap:wrap; margin:.5rem 0 1rem;
}
.schedule__controls label{ display:flex; gap:.5rem; align-items:center; }
.schedule__controls select{
  padding:.4rem .5rem; border:1px solid #9ca3af; border-radius:8px; background:transparent; color:inherit;
}
.schedule__state{ margin:.75rem 0; padding:.75rem 1rem; border:1px solid #9ca3af; border-radius:10px; }
.skeleton-row{
  height: 14px; margin: .5rem 0; border-radius: 8px;
  background: linear-gradient(90deg, rgba(0,0,0,.08) 25%, rgba(0,0,0,.14) 37%, rgba(0,0,0,.08) 63%);
  background-size: 400% 100%; animation: shimmer 1.2s infinite;
}
@keyframes shimmer{
  0%{ background-position: 100% 0; }
  100%{ background-position: -100% 0; }
}

/* ==== Tag (equivalente al color con texto) ==== */
.tag{ display:inline-block; padding:.2rem .5rem; border-radius:999px; border:1px solid transparent; font-size:.9rem; }
.tag[data-tone="success"]{ background:#d1fadf; color:#065f46; border-color:#065f46; }
.tag[data-tone="warning"]{ background:#fef3c7; color:#92400e; border-color:#92400e; }
.tag[data-tone="error"]{ background:#fee2e2; color:#991b1b; border-color:#991b1b; }
.tag[data-tone="info"]{ background:#dbeafe; color:#1e40af; border-color:#1e40af; }
:root[data-theme="dark"] .tag[data-tone]{ background:transparent; }

/* Visually hidden helper */
.visually-hidden{
  position:absolute !important; width:1px; height:1px; margin:-1px; padding:0;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}

/* ==== Seat Selector ==== */
.seatmap{ margin-top:1.5rem; }
.seatmap__legend{ display:flex; gap:.5rem; align-items:center; margin-bottom:.5rem; }
.seatmap__grid{ display:flex; flex-direction:column; gap:.4rem; }
.seatmap__row{ display:grid; grid-template-columns: repeat(2, 40px) 24px repeat(2, 40px); gap:.4rem; align-items:center; }
.seatmap__aisle{ width:24px; height:1px; }

/* Botón-asiento base */
.seat{
  width:40px; height:40px;
  border-radius:8px;
  border:1px solid #9ca3af;        /* marco neutro */
  background:transparent;
  color:inherit;
  display:flex; align-items:center; justify-content:center; position:relative;
  cursor: pointer;                  /* visible que se puede pulsar si es libre */
}

/* Seleccionado: marco azul (sin rellenar) */
.seat[data-status="selected"]{
  background: transparent;
  color: inherit;
  border-color: var(--brand-600);
  border-width: 2px;                /* marca el “marco” azul */
}

/* Ocupado / Reservado: no seleccionables y con cursor bloqueado */
.seat[data-status="occupied"]{
  background:#fee2e2; color:#991b1b; border-color:#991b1b;
}
.seat[data-status="reserved"]{
  background:#fef3c7; color:#92400e; border-color:#92400e;
}
/* además, semántica accesible (aria-disabled) */
.seat[aria-disabled="true"]{
  cursor: not-allowed;
  /* opcional: un pelín de opacidad extra */
  /* opacity: .85; */
}

/* Alto contraste: mantenemos tu override */
:root[data-theme="hc"] .seat[data-status="selected"]{
  outline:2px solid #ff0; background:transparent; color:inherit;
}

.seat[data-active="1"]{ outline:var(--focus-ring); outline-offset:var(--focus-offset); }



/* ==== Alerts & Notices ==== */
.alert{
  display:flex; gap:.75rem; align-items:flex-start;
  border:1px solid #9ca3af; border-left-width:6px; border-radius:10px;
  padding:.75rem 1rem; margin:.75rem 0; background:transparent;
}
.alert__icon{ font-size:1.25rem; line-height:1; margin-top:.15rem; }
.alert__title{ margin:.1rem 0 .25rem; font-size:var(--fs-2); }
.alert__desc{ margin:0; }
.alert__action{ margin-top:.4rem; }
.alert[data-tone="info"]{ border-left-color:#1e40af; }
.alert[data-tone="success"]{ border-left-color:#065f46; }
.alert[data-tone="warning"]{ border-left-color:#92400e; }
.alert[data-tone="error"]{ border-left-color:#991b1b; }

.notices__controls{
  display:flex; align-items:end; justify-content:space-between; gap:1rem; flex-wrap:wrap;
  margin-top:2rem; margin-bottom:.5rem;
}
.notices__title{ margin:0; }
.notices__filters{ display:flex; gap:1rem; align-items:center; }
.notices__filters label{ display:flex; gap:.5rem; align-items:center; }
.notices__filters input, .notices__filters select{
  padding:.4rem .5rem; border:1px solid #9ca3af; border-radius:8px; background:transparent; color:inherit;
}

/* ==== Alto contraste: botones legibles ==== */
:root[data-theme="hc"] .btn{
  background:transparent !important;
  color:#fff !important;
  border:2px solid #fff !important;
}
:root[data-theme="hc"] .btn:hover{
  background:#fff !important;
  color:#000 !important;
}

/* ==== Tema oscuro: mejorar contraste de Tag ==== */
:root[data-theme="dark"] .tag[data-tone="success"]{ color:#a7f3d0; border-color:#a7f3d0; }
:root[data-theme="dark"] .tag[data-tone="warning"]{ color:#fde68a; border-color:#fde68a; }
:root[data-theme="dark"] .tag[data-tone="error"]{   color:#fecaca; border-color:#fecaca; }
:root[data-theme="dark"] .tag[data-tone="info"]{    color:#bfdbfe; border-color:#bfdbfe; }

